<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>PH TV Live • Zero Click</title>
  <meta name="theme-color" content="#000000">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: system-ui, sans-serif; background:#000; color:#fff; overflow:hidden; height:100vh; }
    .container { display:grid; grid-template-rows:auto 1fr auto; height:100vh; }
    header { padding:15px; text-align:center; background:#111; border-bottom:1px solid #333; }
    .logo { height:40px; }
    main { display:grid; grid-template-columns:1fr 380px; gap:15px; padding:15px; }
    @media (max-width: 1024px) { main { grid-template-columns:1fr; } }
    #video-container { background:#000; border-radius:12px; overflow:hidden; box-shadow:0 8px 32px rgba(0,0,0,0.6); }
    #video { width:100%; height:100%; aspect-ratio:16/9; }
    .sidebar { background:#111; border-radius:12px; padding:20px; overflow-y:auto; }
    h2 { margin-bottom:15px; font-size:1.4rem; }
    select { width:100%; padding:14px; background:#222; color:#fff; border:1px solid #444; border-radius:8px; font-size:1rem; }
    #channel-name { padding:15px; text-align:center; background:#111; font-size:1.3rem; font-weight:bold; }
    .stats { margin-top:10px; font-size:0.85rem; background:#222; padding:10px; border-radius:8px; }
    .stats div { display:flex; justify-content:space-between; margin:6px 0; }
    .loading { text-align:center; padding:40px; color:#888; }
    .spinner { border:4px solid #333; border-top:4px solid #00ff00; border-radius:50%; width:50px; height:50px; animation:spin 1s linear infinite; margin:0 auto 15px; }
    @keyframes spin { to { transform:rotate(360deg); } }
    .toast { position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:#00ff00; color:#000; padding:12px 24px; border-radius:50px; font-weight:bold; z-index:9999; opacity:0; transition:all 0.4s; }
    .toast.show { opacity:1; }
    .toast.error { background:#ff0033; color:#fff; }
    footer { padding:12px; text-align:center; background:#111; font-size:0.8rem; color:#666; border-top:1px solid #333; }
  </style>

  <!-- Shaka Player -->
  <script src="https://unpkg.com/mux.js@5.10.0/dist/mux.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/shaka-player@4.16.9/dist/shaka-player.ui.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shaka-player@4.16.9/dist/controls.min.css">
</head>
<body>

<div class="container">
  <header>
    <h1>PH TV Live • Auto Play</h1>
  </header>

  <main>
    <div id="video-container">
      <video id="video" autoplay playsinline poster="https://via.placeholder.com/1920x1080/111/fff?text=PH+TV+LIVE"></video>
    </div>

    <div class="sidebar">
      <h2>Channels (Auto-playing first)</h2>
      <select id="channelSelector">
        <option>Loading 300+ PH channels...</option>
      </select>
      <div class="stats" id="stats" style="display:none;">
        <div><span>Buffer:</span> <span id="buffer">0s</span></div>
        <div><span>Bitrate:</span> <span id="bitrate">0 kbps</span></div>
        <div><span>Resolution:</span> <span id="res">N/A</span></div>
      </div>
    </div>
  </main>

  <div id="channel-name">Loading playlist...</div>
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>Preparing channels...</p>
  </div>
</div>

<div class="toast" id="toast">Auto-playing first channel!</div>
<footer>© 2025 PH TV Live • Zero Click • Works on Phone, TV, PC</footer>

<script>
  let player, playlistData = [];
  const video = document.getElementById('video');
  const channelName = document.getElementById('channel-name');
  const channelSelector = document.getElementById('channelSelector');
  const loading = document.getElementById('loading');
  const stats = document.getElementById('stats');
  const toast = document.getElementById('toast');

  // PALITAN MO LANG DITO KUNG GUSTO MO IBANG PLAYLIST
  const PLAYLIST_URL = "https://converse.nathcreqtives.com/playlist.m3u";
  // O private mo: "https://converse.nathcreqtives.com/playlist.m3u"

  function showToast(msg, error = false) {
    toast.textContent = msg;
    toast.className = 'toast show' + (<|eos|>
